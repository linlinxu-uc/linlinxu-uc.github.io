<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Gallery</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Research Lab, Home, University of Calgary">
    <meta name="author" content="">
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Blueimp Gallery CSS -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/blueimp-gallery/3.3.1/css/blueimp-gallery.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/blueimp-gallery/3.3.1/css/blueimp-gallery-video.css" rel="stylesheet">
    
    <style>
        /* Custom styles */
        body {
            padding-top: 20px;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        .jumbotron {
            background-color: #f8f9fa;
            padding: 30px;
            margin-bottom: 20px;
            border-radius: 5px;
        }
        
        .youtube-thumbnail {
            position: relative;
            width: 187px;
            height: 125px;
            overflow: hidden;
            cursor: pointer;
        }
        
        .youtube-thumbnail img {
            width: 100%;
            height: auto;
            transition: transform 0.3s;
        }
        
        .youtube-thumbnail:hover img {
            transform: scale(1.05);
        }
        
        .youtube-play-button {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 48px;
            height: 48px;
            background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 68 48"><path d="M66.52 7.74c-.78-2.93-2.49-5.41-5.42-6.19C55.79.13 34 0 34 0S12.21.13 6.9 1.55c-2.93.78-4.63 3.26-5.42 6.19C.06 13.05 0 24 0 24s.06 10.95 1.48 16.26c.78 2.93 2.49 5.41 5.42 6.19C12.21 47.87 34 48 34 48s21.79-.13 27.1-1.55c2.93-.78 4.64-3.26 5.42-6.19C67.94 34.95 68 24 68 24s-.06-10.95-1.48-16.26z" fill="red"/><path d="M45 24L27 14v20" fill="white"/></svg>') no-repeat;
            background-size: contain;
            opacity: 0.8;
            transition: opacity 0.3s;
        }
        
        .youtube-thumbnail:hover .youtube-play-button {
            opacity: 1;
        }
        
        .thumbnail {
            transition: all 0.3s;
        }
        
        .thumbnail:hover {
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .caption {
            margin-top: 10px;
            font-size: 14px;
            text-align: center;
        }
        
        footer {
            margin-top: 40px;
            padding: 20px 0;
            background-color: #f8f9fa;
            border-top: 1px solid #eee;
        }
    </style>
</head>
<body>
    <div class="container">
        <header class="jumbotron subhead" id="overview">
            <p class="lead">University of Calgary</p>
            <h1>Geospatial Sensing and Intelligence Lab (GSIL)</h1>
        </header>
        
        <nav class="navbar navbar-expand-lg navbar-light bg-light mb-4">
            <div class="container-fluid">
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav">
                        <li class="nav-item"><a class="nav-link" href="index.html">Home</a></li>
                        <li class="nav-item"><a class="nav-link" href="people.html">People</a></li>
                        <li class="nav-item"><a class="nav-link" href="research.html">Research</a></li>
                        <li class="nav-item"><a class="nav-link" href="publications.html">Publications</a></li>
                        <li class="nav-item"><a class="nav-link active" href="gallery.html">Gallery</a></li>
                        <li class="nav-item"><a class="nav-link" href="links.html">Links</a></li>
                        <li class="nav-item"><a class="nav-link" href="teaching.html">Teaching</a></li>
                        <li class="nav-item"><a class="nav-link" href="contact.html">Contact</a></li>
                    </ul>
                </div>
            </div>
        </nav>
        
        <hr>
        
        <!-- Blueimp Gallery Container -->
        <div id="blueimp-gallery" class="blueimp-gallery blueimp-gallery-controls">
            <div class="slides"></div>
            <h3 class="title"></h3>
            <a class="prev">‹</a>
            <a class="next">›</a>
            <a class="close">×</a>
            <a class="play-pause"></a>
            <ol class="indicator"></ol>
        </div>
        
        <div class="row">
            <div class="col-md-3">
                <div id="navparent" class="sticky-top" style="top: 20px;">
                    <ul class="nav flex-column">
                        <li class="nav-item"><a class="nav-link" href="#imagegallery1">Pan-Arctic sea ice mapping</a></li>
                        <li class="nav-item"><a class="nav-link" href="#imagegallery2">Arctic species detection</a></li>
                    </ul>
                </div>
            </div>
            
            <div class="col-md-9">
                <section id="imagegallery1">
                    <div class="page-header mb-4">
                        <h3>Pan-Arctic sea ice mapping</h3>
                    </div>
                    
                    <div class="row">
                        <div class="col-md-4 mb-4">
                            <div class="thumbnail youtube-link" data-youtube="rcfli-XRfmw" data-gallery>
                                <div class="youtube-thumbnail">
                                    <img src="https://via.placeholder.com/187x125/0077b5/ffffff?text=Arctic+Video" alt="Pan-Arctic sea ice video thumbnail">
                                    <div class="youtube-play-button"></div>
                                </div>
                                <p class="caption">Pan-Arctic sea ice video</p>
                            </div>
                        </div>
                        
                        <div class="col-md-4 mb-4">
                            <div class="thumbnail">
                                <img src="https://via.placeholder.com/187x125/28a745/ffffff?text=Species+Detection" class="img-fluid" alt="Arctic species detection">
                                <p class="caption">Arctic species detection</p>
                            </div>
                        </div>
                        
                        <div class="col-md-4 mb-4">
                            <div class="thumbnail">
                                <img src="https://via.placeholder.com/187x125/6f42c1/ffffff?text=Arctic+Sensing" class="img-fluid" alt="Pan-Arctic sensing">
                                <p class="caption">Pan-Arctic sensing</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="row">
                        <div class="col-md-4 mb-4">
                            <div class="thumbnail">
                                <img src="https://via.placeholder.com/187x125/fd7e14/ffffff?text=Research+1" class="img-fluid" alt="Research 1">
                                <p class="caption">Research example 1</p>
                            </div>
                        </div>
                        
                        <div class="col-md-4 mb-4">
                            <div class="thumbnail">
                                <img src="https://via.placeholder.com/187x125/20c997/ffffff?text=Research+2" class="img-fluid" alt="Research 2">
                                <p class="caption">Research example 2</p>
                            </div>
                        </div>
                        
                        <div class="col-md-4 mb-4">
                            <div class="thumbnail">
                                <img src="https://via.placeholder.com/187x125/d63384/ffffff?text=Research+3" class="img-fluid" alt="Research 3">
                                <p class="caption">Research example 3</p>
                            </div>
                        </div>
                    </div>
                </section>
                
                <section id="imagegallery2" class="mt-5">
                    <div class="page-header mb-4">
                        <h3>Arctic species detection</h3>
                    </div>
                    
                    <div class="row">
                        <div class="col-md-4 mb-4">
                            <div class="thumbnail">
                                <img src="https://via.placeholder.com/187x125/17a2b8/ffffff?text=Species+1" class="img-fluid" alt="Species 1">
                                <p class="caption">Species detection 1</p>
                            </div>
                        </div>
                        
                        <div class="col-md-4 mb-4">
                            <div class="thumbnail">
                                <img src="https://via.placeholder.com/187x125/ffc107/ffffff?text=Species+2" class="img-fluid" alt="Species 2">
                                <p class="caption">Species detection 2</p>
                            </div>
                        </div>
                        
                        <div class="col-md-4 mb-4">
                            <div class="thumbnail">
                                <img src="https://via.placeholder.com/187x125/6c757d/ffffff?text=Species+3" class="img-fluid" alt="Species 3">
                                <p class="caption">Species detection 3</p>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </div>
    </div>
    
    <footer id="footer" class="mt-5">
        <div class="container">
            <div class="row">
                <div class="col-md-5">
                    <h3>Contact Information</h3>
                    <p><b>Office Hours:</b> Monday-Friday (8.00am - 5.00pm)</p>
                    <p><b>Phone:</b> 548-994-0989</p>
                    <p><b>Cell:</b> 548-994-0989</p>
                    <a href="mailto:linlin.xu@ucalgary.ca">linlin.xu@ucalgary.ca</a>
                </div>
                
                <div class="col-md-2 text-center">
                    <img src="https://via.placeholder.com/100x100?text=GSIL" alt="research-lab-logo" class="img-fluid">
                </div>
                
                <div class="col-md-5">
                    <h3>Address</h3>
                    <p>Geospatial Sensing and Intelligence Lab<br>
                    2500 University Dr NW<br>
                    Calgary, AB<br>
                    Canada, T2N 1N4</p>
                    <a href="https://www.google.com/maps/place/Schulich+School+of+Engineering/@51.0807002,-114.1338934,17z/data=!3m1!4b1!4m6!3m5!1s0x53716f0eeb616997:0xce5ac04d99b6bf7b!8m2!3d51.0806969!4d-114.1313131!16zL20vMGR4NzJk?entry=ttu" target="_blank">Show Map</a>
                </div>
            </div>
        </div>
    </footer>

    <!-- JavaScript -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/blueimp-gallery/3.3.1/js/blueimp-gallery.min.js"></script>
    
    <script>
        $(document).ready(function() {
            // Initialize scrollspy
            $('body').scrollspy({
                target: '#navparent',
                offset: 100
            });
            
            // Handle YouTube video clicks
            $('.youtube-link').on('click', function(e) {
                e.preventDefault();
                var videoId = $(this).data('youtube');
                var videoTitle = $(this).find('.caption').text();
                var embedUrl = 'https://www.youtube.com/embed/' + videoId + '?autoplay=1&rel=0&enablejsapi=1';
                
                // Create iframe with YouTube API
                var iframe = $('<iframe/>', {
                    'frameborder': '0',
                    'allowfullscreen': '',
                    'allow': 'accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture',
                    'src': embedUrl,
                    'width': '853',
                    'height': '480'
                });
                
                // Open in blueimp gallery
                var gallery = blueimp.Gallery([{
                    title: videoTitle,
                    type: 'text/html',
                    href: embedUrl,
                    youtube: videoId,
                    thumbnail: $(this).find('img').attr('src')
                }], {
                    onopen: function() {
                        var container = this.container[0];
                        var iframeContainer = container.querySelector('.slide-content');
                        iframeContainer.innerHTML = '';
                        iframeContainer.appendChild(iframe[0]);
                    },
                    onslide: function(index, slide) {
                        var container = this.container[0];
                        var iframeContainer = container.querySelector('.slide-content');
                        iframeContainer.innerHTML = '';
                        iframeContainer.appendChild(iframe[0]);
                    },
                    onclose: function() {
                        // Pause video when gallery closes
                        var iframe = document.querySelector('.blueimp-gallery iframe');
                        if (iframe) {
                            iframe.contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}', '*');
                        }
                    }
                });
            });
            
            // Original gallery handlers for non-YouTube items
            $('.thumbnail:not(.youtube-link)').on('click', function(e) {
                e.preventDefault();
                var items = [];
                var index = 0;
                
                $(this).parent().parent().find('.thumbnail:not(.youtube-link)').each(function(i) {
                    if ($(this).attr('href')) {
                        items.push({
                            title: $(this).attr('title') || '',
                            href: $(this).attr('href'),
                            type: 'image'
                        });
                        
                        if (this === e.currentTarget) {
                            index = i;
                        }
                    }
                });
                
                if (items.length > 0) {
                    blueimp.Gallery(items, {
                        index: index,
                        container: '#blueimp-gallery',
                        carousel: true
                    });
                }
            });
        });
    </script>
</body>
</html>
